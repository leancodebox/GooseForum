<script setup lang="ts">
import { ref } from 'vue'
import CategorySelector from './CategorySelector.vue'

// ç¤ºä¾‹æ•°æ®
const categories = ref([
  { id: 1, name: 'æŠ€æœ¯åˆ†äº«' },
  { id: 2, name: 'ç”Ÿæ´»éšç¬”' },
  { id: 3, name: 'å­¦ä¹ ç¬”è®°' },
  { id: 4, name: 'é¡¹ç›®ç»éªŒ' },
  { id: 5, name: 'å·¥å…·æ¨è' },
  { id: 6, name: 'å‰ç«¯å¼€å‘' },
  { id: 7, name: 'åç«¯å¼€å‘' },
  { id: 8, name: 'ç§»åŠ¨å¼€å‘' },
  { id: 9, name: 'æ•°æ®åº“' },
  { id: 10, name: 'è¿ç»´éƒ¨ç½²' }
])

const selectedCategories = ref<number[]>([1, 3])

// äº‹ä»¶å¤„ç†
const handleCategoryChange = (newCategories: number[]) => {
  console.log('åˆ†ç±»å·²æ›´æ”¹:', newCategories)
}

const handleCategoryError = (message: string) => {
  alert(message)
}
</script>

<template>
  <div class="p-8 max-w-2xl mx-auto">
    <h1 class="text-2xl font-bold mb-6">CategorySelector ç»„ä»¶ç¤ºä¾‹</h1>
    
    <!-- åŸºç¡€ç”¨æ³• -->
    <div class="mb-8">
      <h2 class="text-lg font-semibold mb-4">åŸºç¡€ç”¨æ³•</h2>
      <CategorySelector
        v-model="selectedCategories"
        :categories="categories"
        :max-selection="3"
        @change="handleCategoryChange"
        @error="handleCategoryError"
      />
    </div>
    
    <!-- è‡ªå®šä¹‰é…ç½® -->
    <div class="mb-8">
      <h2 class="text-lg font-semibold mb-4">è‡ªå®šä¹‰é…ç½®</h2>
      <CategorySelector
        v-model="selectedCategories"
        :categories="categories"
        :max-selection="5"
        placeholder="è¯·é€‰æ‹©æ‚¨æ„Ÿå…´è¶£çš„åˆ†ç±»..."
        label="ğŸ·ï¸ å…´è¶£åˆ†ç±»"
        label-alt="æœ€å¤šé€‰æ‹©5ä¸ª"
        @change="handleCategoryChange"
        @error="handleCategoryError"
      />
    </div>
    
    <!-- ç¦ç”¨çŠ¶æ€ -->
    <div class="mb-8">
      <h2 class="text-lg font-semibold mb-4">ç¦ç”¨çŠ¶æ€</h2>
      <CategorySelector
        v-model="selectedCategories"
        :categories="categories"
        :max-selection="3"
        :disabled="true"
        @change="handleCategoryChange"
        @error="handleCategoryError"
      />
    </div>
    
    <!-- å½“å‰é€‰æ‹©çš„åˆ†ç±» -->
    <div class="mt-8 p-4 bg-base-200 rounded-lg">
      <h3 class="font-semibold mb-2">å½“å‰é€‰æ‹©çš„åˆ†ç±» ID:</h3>
      <code class="text-sm">{{ selectedCategories }}</code>
    </div>
  </div>
</template>

<style scoped>
/* ç¤ºä¾‹é¡µé¢æ ·å¼ */
</style>